import{r as u,u as Z,j as e,L as n}from"./react-vendor-C7OGPxf-.js";import{af as G,ag as Q,B as a,W as O,i,ah as C,I as f,g as I,ai as P,aj as x,d as g,aa as T,ak as w,A as $,m as b,y as F,al as V,am as X,f as Y,L as ee,q as S,an as H,s as R,ao as re}from"./mui-vendor-Cgz2Gown.js";const N="/images/h-black-logo-BZ6RAl0g.jpeg",oe=[{label:"Home",href:"/"},{label:"About",href:"/about"},{label:"How It Works",href:"#how-it-works"},{label:"Features",href:"#features"},{label:"Pricing",href:"#pricing"},{label:"Contact",href:"#contact"}];function te(){var W,D,U,_,E,B;const[k,J]=u.useState(!1),[y,d]=u.useState(!1),[r,h]=u.useState(null),[j,L]=u.useState(null),K=Z();u.useEffect(()=>{const o=localStorage.getItem("access_token"),s=localStorage.getItem("user");if(o&&s)try{const c=JSON.parse(s);d(!0),h(c)}catch{localStorage.removeItem("access_token"),localStorage.removeItem("user"),d(!1),h(null)}else d(!1),h(null);const t=()=>{const c=localStorage.getItem("access_token"),M=localStorage.getItem("user");if(c&&M)try{const q=JSON.parse(M);d(!0),h(q)}catch{d(!1),h(null)}else d(!1),h(null)},p=()=>{t()};return window.addEventListener("storage",t),window.addEventListener("auth-change",p),()=>{window.removeEventListener("storage",t),window.removeEventListener("auth-change",p)}},[]);const l=()=>{J(!k)},A=o=>{L(o.currentTarget)},m=()=>{L(null)},v=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("user"),d(!1),h(null),m(),K("/"),window.dispatchEvent(new Event("storage"))},z=oe;return e.jsxs(e.Fragment,{children:[e.jsx(G,{position:"sticky",elevation:0,sx:{bgcolor:"background.paper",color:"text.primary"},children:e.jsxs(Q,{sx:{justifyContent:"space-between",py:1},children:[e.jsx(a,{component:n,to:"/",sx:{display:"flex",alignItems:"center",textDecoration:"none","&:hover":{opacity:.8}},children:e.jsx(a,{component:"img",src:N,alt:"Kamafile Logo",sx:{height:{xs:48,md:56},width:"auto",objectFit:"contain"}})}),e.jsxs(a,{sx:{display:{xs:"none",md:"flex"},alignItems:"center",gap:3},children:[z.map(o=>{const s=o.href.startsWith("/"),t=o.href.startsWith("#"),p=t?`/${o.href}`:s?void 0:o.href,c=t?`/${o.href}`:s?o.href:void 0;return s||t?e.jsx(O,{component:n,to:c,color:"text.primary",underline:"hover",sx:{fontWeight:500,fontSize:"0.95rem","&:hover":{color:"primary.main"},transition:"color 0.2s",textDecoration:"none"},children:o.label},o.label):e.jsx(O,{href:p,color:"text.primary",underline:"hover",sx:{fontWeight:500,fontSize:"0.95rem","&:hover":{color:"primary.main"},transition:"color 0.2s",textDecoration:"none"},children:o.label},o.label)}),y&&r?e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(i,{onClick:v,variant:"outlined",size:"small",startIcon:e.jsx(C,{}),sx:{borderColor:"primary.main",color:"primary.main",px:2,py:.75,"&:hover":{borderColor:"primary.dark",bgcolor:"primary.light",color:"white"}},children:"Logout"}),e.jsx(f,{onClick:A,sx:{p:0,"&:hover":{opacity:.8}},children:e.jsx(I,{sx:{width:36,height:36,bgcolor:"primary.main",fontSize:"0.875rem",cursor:"pointer"},children:((W=r.full_name)==null?void 0:W.charAt(0).toUpperCase())||((D=r.email)==null?void 0:D.charAt(0).toUpperCase())})}),e.jsxs(P,{anchorEl:j,open:!!j,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e.jsx(x,{disabled:!0,children:e.jsxs(a,{children:[e.jsx(g,{variant:"body2",fontWeight:"bold",children:r.full_name}),e.jsx(g,{variant:"caption",color:"text.secondary",children:r.email})]})}),e.jsx(T,{}),(r.role==="admin"||r.role==="super_admin"||r.role==="moderator"||r.role==="support")&&e.jsxs(x,{component:n,to:"/admin",onClick:m,children:[e.jsx(w,{sx:{mr:1.5}}),"Admin Dashboard"]}),e.jsxs(x,{component:n,to:"/profile",onClick:m,children:[e.jsx($,{sx:{mr:1.5}}),"Profile"]})]})]}):e.jsxs(b,{direction:"row",spacing:1,children:[e.jsx(i,{component:n,to:"/signin",variant:"outlined",size:"small",sx:{borderColor:"primary.main",color:"primary.main",px:2,py:.75,"&:hover":{borderColor:"primary.dark",bgcolor:"primary.light",color:"white"}},children:"Sign In"}),e.jsx(i,{component:n,to:"/signup",variant:"contained",size:"small",startIcon:e.jsx(F,{}),sx:{bgcolor:"secondary.main",px:2,py:.75,"&:hover":{bgcolor:"secondary.dark"}},children:"Sign Up"})]})]}),e.jsxs(a,{sx:{display:{xs:"flex",md:"none"},alignItems:"center",gap:1},children:[y&&r?e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(i,{onClick:v,variant:"outlined",size:"small",startIcon:e.jsx(C,{}),sx:{borderColor:"primary.main",color:"primary.main",px:1.5,py:.5,fontSize:"0.875rem","&:hover":{borderColor:"primary.dark"}},children:"Logout"}),e.jsx(f,{onClick:A,sx:{p:0,"&:hover":{opacity:.8}},children:e.jsx(I,{sx:{width:32,height:32,bgcolor:"primary.main",fontSize:"0.875rem",cursor:"pointer"},children:((U=r.full_name)==null?void 0:U.charAt(0).toUpperCase())||((_=r.email)==null?void 0:_.charAt(0).toUpperCase())})}),e.jsxs(P,{anchorEl:j,open:!!j,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e.jsx(x,{disabled:!0,children:e.jsxs(a,{children:[e.jsx(g,{variant:"body2",fontWeight:"bold",children:r.full_name}),e.jsx(g,{variant:"caption",color:"text.secondary",children:r.email})]})}),e.jsx(T,{}),(r.role==="admin"||r.role==="super_admin"||r.role==="moderator"||r.role==="support")&&e.jsxs(x,{component:n,to:"/admin",onClick:m,children:[e.jsx(w,{sx:{mr:1.5}}),"Admin Dashboard"]}),e.jsxs(x,{component:n,to:"/profile",onClick:m,children:[e.jsx($,{sx:{mr:1.5}}),"Profile"]})]})]}):e.jsxs(b,{direction:"row",spacing:1,sx:{display:{xs:"none",sm:"flex"}},children:[e.jsx(i,{component:n,to:"/signin",variant:"outlined",size:"small",sx:{borderColor:"primary.main",color:"primary.main",px:1.5,py:.5,fontSize:"0.875rem","&:hover":{borderColor:"primary.dark"}},children:"Sign In"}),e.jsx(i,{component:n,to:"/signup",variant:"contained",size:"small",sx:{bgcolor:"secondary.main",px:1.5,py:.5,fontSize:"0.875rem","&:hover":{bgcolor:"secondary.dark"}},children:"Sign Up"})]}),e.jsx(f,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:l,sx:{ml:1},children:e.jsx(V,{})})]})]})}),e.jsxs(X,{variant:"temporary",open:k,onClose:l,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280,pt:2}},children:[e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",px:2,mb:2},children:[e.jsx(a,{component:"img",src:N,alt:"Kamafile Logo",sx:{height:48,width:"auto",objectFit:"contain"}}),e.jsx(f,{onClick:l,children:e.jsx(Y,{})})]}),e.jsxs(ee,{children:[z.map(o=>{const s=o.href.startsWith("/"),t=o.href.startsWith("#"),p=t?`/${o.href}`:s?void 0:o.href,c=t?`/${o.href}`:s?o.href:void 0;return e.jsx(S,{disablePadding:!0,children:s||t?e.jsx(H,{component:n,to:c,onClick:l,sx:{"&:hover":{bgcolor:"primary.light",color:"primary.main"}},children:e.jsx(R,{primary:o.label})}):e.jsx(H,{href:p||"#",onClick:l,sx:{"&:hover":{bgcolor:"primary.light",color:"primary.main"}},children:e.jsx(R,{primary:o.label})})},o.label)}),y&&r?e.jsx(S,{disablePadding:!0,sx:{mt:2,px:2},children:e.jsxs(b,{spacing:1,sx:{width:"100%"},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[e.jsx(I,{sx:{width:40,height:40,bgcolor:"primary.main"},children:((E=r.full_name)==null?void 0:E.charAt(0).toUpperCase())||((B=r.email)==null?void 0:B.charAt(0).toUpperCase())}),e.jsxs(a,{sx:{flex:1},children:[e.jsx(g,{variant:"body2",fontWeight:"bold",children:r.full_name}),e.jsx(g,{variant:"caption",color:"text.secondary",children:r.email})]})]}),(r.role==="admin"||r.role==="super_admin"||r.role==="moderator"||r.role==="support")&&e.jsx(i,{component:n,to:"/admin",onClick:l,variant:"contained",fullWidth:!0,startIcon:e.jsx(w,{}),sx:{bgcolor:"primary.main",mb:1,"&:hover":{bgcolor:"primary.dark"}},children:"Admin Dashboard"}),e.jsx(i,{onClick:()=>{v(),l()},variant:"outlined",fullWidth:!0,startIcon:e.jsx(C,{}),sx:{borderColor:"primary.main",color:"primary.main","&:hover":{borderColor:"primary.dark",bgcolor:"primary.light"}},children:"Logout"})]})}):e.jsx(S,{disablePadding:!0,sx:{mt:2,px:2},children:e.jsxs(b,{spacing:1,sx:{width:"100%"},children:[e.jsx(i,{component:n,to:"/signin",variant:"outlined",fullWidth:!0,startIcon:e.jsx(re,{}),onClick:l,sx:{borderColor:"primary.main",color:"primary.main","&:hover":{borderColor:"primary.dark",bgcolor:"primary.light"}},children:"Sign In"}),e.jsx(i,{component:n,to:"/signup",variant:"contained",fullWidth:!0,startIcon:e.jsx(F,{}),onClick:l,sx:{bgcolor:"secondary.main",color:"white","&:hover":{bgcolor:"secondary.dark"}},children:"Sign Up"})]})})]})]})]})}export{te as H,N as h};
