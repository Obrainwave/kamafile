import{r as o,u as y,j as e}from"./react-vendor-C7OGPxf-.js";import{H as x}from"./Header-BM8w8WG8.js";import{a as g}from"./api-DFHi_IMI.js";import{B as t,d as r,v,a9 as b,g as C,aa as I,ab as a,ac as _,ad as A,ae as P,A as S,i as m}from"./mui-vendor-Cgz2Gown.js";import"./vendor-C6eT50bt.js";import"./utils-vendor-B9ygI19o.js";function B(){var c,l;const[n,h]=o.useState(null),[u,j]=o.useState(!0),s=y();if(o.useEffect(()=>{(async()=>{try{if(!localStorage.getItem("access_token")){s("/signin");return}const f=await g.getCurrentUser();h(f)}catch(d){console.error("Failed to load user:",d),s("/signin")}finally{j(!1)}})()},[s]),u)return e.jsxs(e.Fragment,{children:[e.jsx(x,{}),e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:e.jsx(r,{children:"Loading..."})})]});if(!n)return null;const p=i=>{try{return new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return i}};return e.jsxs(e.Fragment,{children:[e.jsx(x,{}),e.jsxs(v,{maxWidth:"md",sx:{py:4},children:[e.jsx(r,{variant:"h4",component:"h1",gutterBottom:!0,fontWeight:"bold",children:"Profile"}),e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:4},children:"View and manage your account information"}),e.jsxs(b,{elevation:2,sx:{p:4},children:[e.jsxs(t,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:4},children:[e.jsx(C,{sx:{width:120,height:120,bgcolor:"primary.main",fontSize:"3rem",mb:2},children:((c=n.full_name)==null?void 0:c.charAt(0).toUpperCase())||((l=n.email)==null?void 0:l.charAt(0).toUpperCase())}),e.jsx(r,{variant:"h5",component:"h2",fontWeight:"bold",children:n.full_name}),e.jsx(r,{variant:"body2",color:"text.secondary",children:n.user_type})]}),e.jsx(I,{sx:{my:3}}),e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{size:{xs:12,sm:6},children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(_,{color:"primary"}),e.jsxs(t,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"Email"}),e.jsx(r,{variant:"body1",fontWeight:"medium",children:n.email})]})]})}),n.phone_number&&e.jsx(a,{size:{xs:12,sm:6},children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(A,{color:"primary"}),e.jsxs(t,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"Phone Number"}),e.jsx(r,{variant:"body1",fontWeight:"medium",children:n.phone_number})]})]})}),e.jsx(a,{size:{xs:12,sm:6},children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(P,{color:"primary"}),e.jsxs(t,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"Member Since"}),e.jsx(r,{variant:"body1",fontWeight:"medium",children:p(n.created_at)})]})]})}),e.jsx(a,{size:{xs:12,sm:6},children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(S,{color:"primary"}),e.jsxs(t,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"Account Status"}),e.jsxs(r,{variant:"body1",fontWeight:"medium",children:[n.is_active?"Active":"Inactive",n.is_verified&&" â€¢ Verified"]})]})]})})]}),e.jsxs(t,{sx:{mt:4,display:"flex",gap:2,justifyContent:"flex-end"},children:[e.jsx(m,{variant:"outlined",onClick:()=>s("/"),children:"Back to Home"}),e.jsx(m,{variant:"contained",disabled:!0,children:"Edit Profile"})]})]})]})]})}export{B as default};
