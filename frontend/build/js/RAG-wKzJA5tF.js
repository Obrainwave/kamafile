import{r as n,j as e,S as P}from"./index-BHc5x-h8.js";import{a as h}from"./adminAPI-KGAfRyo2.js";import{C as Je,a as me}from"./Container-DLhWKrGQ.js";import{A as O,C as Ut}from"./Alert-PtKF-DaF.js";import{B as c}from"./Button-CNOq94bm.js";import{M as b}from"./Modal-CFTbXgAL.js";import{I as K}from"./Input-Dtwfw_M_.js";import{T as pe}from"./trash-2-0M0iJpkM.js";import{c as f}from"./createLucideIcon-CSaQ5UJr.js";import{F as Pt}from"./file-text-CkbiKE5t.js";import{E as Ot}from"./eye-BcexOqWX.js";import{a as Ke,C as Qe}from"./circle-check-big-Cpb-8GCM.js";import"./api-sa1Artjr.js";import"./x-Drc1oL_C.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Lt=f("check",Vt);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Et=f("copy",$t);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ue=f("database",qt);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],It=f("external-link",Bt);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Wt=f("file-up",Gt);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Xt=f("globe",Ht);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Kt=f("link",Jt);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],k=f("loader",Qt);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Q=f("refresh-cw",Zt);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],he=f("upload",Yt);function us(){var Te,ze,Ue,Pe,Oe,Ve,Le,$e;const[C,Ze]=n.useState([]),[Ye,ge]=n.useState(!0),[V,d]=n.useState(null),[r,fe]=n.useState(null),[L,ye]=n.useState(!0),[F,je]=n.useState(!1),[et,$]=n.useState(!1),[tt,E]=n.useState(!1),[q,B]=n.useState(!1),[x,D]=n.useState({title:"",file:null}),[g,T]=n.useState({title:"",url:""}),[st,S]=n.useState(!1),[at,I]=n.useState(null),[lt,G]=n.useState(!1),[Z,Ne]=n.useState(!1),[y,z]=n.useState({}),[j,W]=n.useState(new Set),[nt,H]=n.useState(!1),[M,X]=n.useState(null),[Y,rt]=n.useState("replace"),[ve,be]=n.useState(!1),[p,it]=n.useState(null),[ee,we]=n.useState(!1),[te,se]=n.useState(!1),[ct,A]=n.useState(!1),[U,ae]=n.useState(null),[le,_e]=n.useState(!1),N=n.useRef(null),w=n.useRef(null),[ne,ot]=n.useState([]),[re,ke]=n.useState(!1),[_,Ce]=n.useState(0),[ie,dt]=n.useState(""),J=10,[De,xt]=n.useState([]),[mt,Se]=n.useState(!1);n.useEffect(()=>{ee&&pt()},[ee,_,ie]),n.useEffect(()=>{te&&ut()},[te]);const pt=async()=>{try{ke(!0);const t=await h.getMetadataCatalog({skip:_*J,limit:J,search:ie});ot(t)}catch{}finally{ke(!1)}},ut=async()=>{try{Se(!0);const t=await h.getPendingDocuments();xt(t)}catch{}finally{Se(!1)}},[ht,ce]=n.useState(!1),[m,gt]=n.useState(null),ft=t=>{gt(t),ce(!0)};n.useEffect(()=>{v(),Me(!0),de();const t=setInterval(()=>{v(!1),Me(!1),de()},5e3);return()=>clearInterval(t)},[]);const Me=async(t=!1)=>{var s,l,i,o,u,R,Ee,qe,Be,Ie;try{t?ye(!0):je(!0);const a=await h.getVectorStoreInfo(),zt={qdrant_host:(a==null?void 0:a.qdrant_host)||"localhost",qdrant_port:(a==null?void 0:a.qdrant_port)||6333,web_ui_url:(a==null?void 0:a.web_ui_url)||"http://localhost:6333/dashboard",collection_info:{name:((s=a==null?void 0:a.collection_info)==null?void 0:s.name)||"tax_legal_documents",points_count:typeof((l=a==null?void 0:a.collection_info)==null?void 0:l.points_count)=="number"?a.collection_info.points_count:typeof((i=a==null?void 0:a.collection_info)==null?void 0:i.vectors_count)=="number"?a.collection_info.vectors_count:0,vectors_count:typeof((o=a==null?void 0:a.collection_info)==null?void 0:o.vectors_count)=="number"?a.collection_info.vectors_count:typeof((u=a==null?void 0:a.collection_info)==null?void 0:u.points_count)=="number"?a.collection_info.points_count:0,indexed_vectors_count:(()=>{var We,He,Xe;const xe=typeof((We=a==null?void 0:a.collection_info)==null?void 0:We.points_count)=="number"?a.collection_info.points_count:typeof((He=a==null?void 0:a.collection_info)==null?void 0:He.vectors_count)=="number"?a.collection_info.vectors_count:0,Ge=typeof((Xe=a==null?void 0:a.collection_info)==null?void 0:Xe.indexed_vectors_count)=="number"?a.collection_info.indexed_vectors_count:null;return Ge===0&&xe>0?xe:Ge??xe})(),status:((R=a==null?void 0:a.collection_info)==null?void 0:R.status)||"unknown",config:{vector_size:typeof((qe=(Ee=a==null?void 0:a.collection_info)==null?void 0:Ee.config)==null?void 0:qe.vector_size)=="number"?a.collection_info.config.vector_size:384,distance:((Ie=(Be=a==null?void 0:a.collection_info)==null?void 0:Be.config)==null?void 0:Ie.distance)||"Cosine"}}};fe(zt)}catch{(!r||t)&&fe({qdrant_host:"localhost",qdrant_port:6333,web_ui_url:"http://localhost:6333/dashboard",collection_info:{name:"tax_legal_documents",points_count:0,vectors_count:0,indexed_vectors_count:0,status:"error",config:{vector_size:384,distance:"Cosine"}}})}finally{ye(!1),setTimeout(()=>je(!1),200)}},v=async(t=!0)=>{var s,l;try{t&&(ge(!0),d(null));const i=await h.getRAGDocuments();Ze(i),d(null)}catch(i){d(((l=(s=i.response)==null?void 0:s.data)==null?void 0:l.detail)||"Failed to load RAG documents")}finally{t&&ge(!1)}},Ae=t=>{if(!t)return"";let s=t.replace(/\.[^/.]+$/,"");return s=s.replace(/[-_]/g," "),s=s.replace(/\s+base\s*$/i,""),s=s.replace(/\s+copy\s*$/i,""),s=s.replace(/\s+\(\d+\)\s*$/,""),s=s.replace(/\b(19|20)\d{2}\b/g,""),s=s.replace(/\s+/g," ").trim(),s.split(" ").map(o=>o===o.toUpperCase()&&o.length>=2&&o.length<=4?o:o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" ")||t.replace(/\.[^/.]+$/,"")},yt=t=>{var l,i;const s=(l=t.target.files)==null?void 0:l[0];if(s){const o=Ae(s.name),u=x.title,R=!u||u===((i=x.file)==null?void 0:i.name)?o:u;D({...x,file:s,title:R})}},jt=t=>{t.preventDefault(),t.stopPropagation(),S(!0)},Nt=t=>{t.preventDefault(),t.stopPropagation(),t.currentTarget.contains(t.relatedTarget)||S(!1)},vt=t=>{var l;t.preventDefault(),t.stopPropagation(),S(!1);const s=t.dataTransfer.files;if(s&&s.length>0){const i=s[0],o=Ae(i.name),u=x.title,R=!u||u===((l=x.file)==null?void 0:l.name)?o:u;D({...x,file:i,title:R})}},bt=async()=>{var t,s,l,i;if(!x.file||!x.title){d("Please select a file and provide a title");return}try{B(!0),d(null),await h.uploadRAGFile(x.file,x.title),$(!1),D({title:"",file:null}),S(!1),N.current&&(N.current.value=""),v()}catch(o){const u=((s=(t=o.response)==null?void 0:t.data)==null?void 0:s.detail)||((i=(l=o.response)==null?void 0:l.data)==null?void 0:i.message)||o.message||"Failed to upload file";d(`Upload failed: ${u}`)}finally{B(!1)}},wt=async()=>{var t,s;if(!g.url||!g.title){d("Please provide both URL and title");return}try{B(!0),d(null),await h.addRAGUrl({title:g.title,url:g.url}),E(!1),T({title:"",url:""}),v()}catch(l){d(((s=(t=l.response)==null?void 0:t.data)==null?void 0:s.detail)||"Failed to add URL")}finally{B(!1)}},_t=t=>{ae(t),A(!0)},kt=async()=>{var t,s;if(!(!U&&j.size===0))try{_e(!0),U?await h.deleteRAGDocument(U.id):(await h.bulkDeleteRAGDocuments(Array.from(j)),W(new Set)),v(),A(!1),ae(null)}catch(l){d(((s=(t=l.response)==null?void 0:t.data)==null?void 0:s.detail)||"Failed to delete document(s)"),A(!1)}finally{_e(!1)}},Ct=t=>{t.target.checked?W(new Set(C.map(s=>s.id))):W(new Set)},Dt=t=>{const s=new Set(j);s.has(t)?s.delete(t):s.add(t),W(s)},Re=async t=>{var s,l;try{await h.reprocessRAGDocument(t),v()}catch(i){d(((l=(s=i.response)==null?void 0:s.data)==null?void 0:l.detail)||"Failed to reprocess document")}},St=async()=>{var t,s;if(window.confirm(`This will reprocess ${y.status?`all ${y.status} `:"all "}documents. Old chunks will be deleted and documents will be re-indexed with updated metadata (law names, etc.). This may take several minutes. Continue?`))try{Ne(!0),d(null);const l=await h.bulkReprocessRAGDocuments(y.status,y.sourceType),i=`${l.message}. `+(l.errors.length>0?`Errors: ${l.errors.length}`:"All documents queued successfully.");alert(i),G(!1),z({}),v()}catch(l){d(((s=(t=l.response)==null?void 0:t.data)==null?void 0:s.detail)||"Failed to bulk reprocess documents")}finally{Ne(!1)}},Mt=async(t,s)=>{try{await navigator.clipboard.writeText(t),I(s),setTimeout(()=>{I(null)},2e3)}catch{const i=document.createElement("textarea");i.value=t,i.style.position="fixed",i.style.opacity="0",document.body.appendChild(i),i.select();try{document.execCommand("copy"),I(s),setTimeout(()=>{I(null)},2e3)}catch{}document.body.removeChild(i)}},At=t=>{switch(t){case"completed":return e.jsx(Qe,{className:"w-5 h-5 text-green-600"});case"failed":return e.jsx(Ut,{className:"w-5 h-5 text-red-600"});case"processing":return e.jsx(k,{className:"w-5 h-5 text-blue-600 animate-spin"});default:return e.jsx(k,{className:"w-5 h-5 text-gray-400"})}},Rt=t=>{switch(t){case"completed":return"Completed";case"failed":return"Failed";case"processing":return"Processing";default:return"Pending"}},oe=t=>t?t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(2)} KB`:`${(t/(1024*1024)).toFixed(2)} MB`:"-",de=async()=>{try{const t=await h.getMetadataCatalogStats();it(t)}catch{}},Ft=t=>{var l;const s=(l=t.target.files)==null?void 0:l[0];s&&X(s)},Tt=async()=>{var t,s;if(!M){d("Please select a CSV file");return}try{be(!0),d(null);const l=await h.uploadMetadataCatalog(M,Y);alert(`CSV uploaded successfully!
Total rows: ${l.total_rows}
Inserted: ${l.inserted}
Updated: ${l.updated}`),H(!1),X(null),w.current&&(w.current.value=""),de(),v()}catch(l){d(((s=(t=l.response)==null?void 0:t.data)==null?void 0:s.detail)||"Failed to upload CSV catalog")}finally{be(!1)}},Fe=t=>{if(!t.metadata_status)return null;switch(t.metadata_status){case"matched":return e.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded bg-green-100 text-green-700 flex items-center gap-1",children:[e.jsx(Qe,{className:"w-3 h-3"}),"Matched"]});case"pending":return e.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded bg-orange-100 text-orange-700 flex items-center gap-1",children:[e.jsx(Ke,{className:"w-3 h-3"}),"Pending"]});case"manual":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded bg-blue-100 text-blue-700",children:"Manual"});default:return e.jsx("span",{className:"text-gray-400",children:"-"})}};return Ye&&C.length===0?e.jsx(Je,{maxWidth:"xl",children:e.jsx("div",{className:"flex justify-center p-8",children:e.jsx(P,{size:"lg"})})}):e.jsxs(Je,{maxWidth:"xl",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-4xl font-bold truncate",children:"RAG Management"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage documents and URLs for the knowledge base"})]}),e.jsxs("div",{className:"flex gap-3 flex-shrink-0 flex-wrap",children:[j.size>0&&e.jsxs(c,{variant:"danger",onClick:()=>{ae(null),A(!0)},className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx(pe,{className:"w-4 h-4"}),"Delete Selected (",j.size,")"]}),e.jsxs(c,{variant:"outline",onClick:()=>G(!0),className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4"}),"Bulk Reprocess"]}),e.jsxs(c,{variant:"outline",onClick:()=>E(!0),className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx(Kt,{className:"w-4 h-4"}),"Add URL"]}),e.jsxs(c,{variant:"primary",onClick:()=>$(!0),className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx(he,{className:"w-4 h-4"}),"Upload File"]})]})]}),V&&e.jsx(O,{severity:"error",className:"mb-4",onClose:()=>d(null),children:V}),e.jsxs(me,{className:"mb-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Wt,{className:"w-5 h-5 text-primary"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Metadata Catalog"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>we(!0),className:"flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4"}),"View Catalog"]}),e.jsxs(c,{variant:"primary",size:"sm",onClick:()=>H(!0),className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4"}),"Upload CSV Catalog"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Entries"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(p==null?void 0:p.total_entries)??0})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Matched Documents"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:(p==null?void 0:p.matched_documents)??0})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Pending Review"}),e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(p==null?void 0:p.pending_documents)??0})]})]}),p&&p.pending_documents>0&&e.jsx(O,{severity:"warning",className:"mt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:[p.pending_documents," document(s) uploaded without metadata."]}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>se(!0),children:"Review Now"})]})})]}),e.jsxs(me,{className:"mb-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ue,{className:"w-5 h-5 text-primary"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Vector Database Statistics"}),F&&e.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-500 animate-pulse",children:[e.jsx(k,{className:"w-3 h-3 animate-spin"}),e.jsx("span",{children:"Updating..."})]})]}),(r==null?void 0:r.web_ui_url)&&e.jsxs("a",{href:r.web_ui_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[e.jsx(It,{className:"w-4 h-4"}),"Open Qdrant Web UI"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 min-h-[100px] flex flex-col justify-between",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Chunks"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 h-8 flex items-center transition-opacity duration-200",children:L?e.jsx(P,{size:"sm"}):e.jsx("span",{className:F?"opacity-70":"opacity-100",children:String(((Te=r==null?void 0:r.collection_info)==null?void 0:Te.points_count)??((ze=r==null?void 0:r.collection_info)==null?void 0:ze.vectors_count)??0)})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 min-h-[100px] flex flex-col justify-between",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Indexed Vectors"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 h-8 flex items-center transition-opacity duration-200",children:L?e.jsx(P,{size:"sm"}):e.jsx("span",{className:F?"opacity-70":"opacity-100",children:String(((Ue=r==null?void 0:r.collection_info)==null?void 0:Ue.indexed_vectors_count)??0)})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 min-h-[100px] flex flex-col justify-between",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Vector Size"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 h-8 flex items-center transition-opacity duration-200",children:L?e.jsx(P,{size:"sm"}):e.jsx("span",{className:F?"opacity-70":"opacity-100",children:(Oe=(Pe=r==null?void 0:r.collection_info)==null?void 0:Pe.config)!=null&&Oe.vector_size?`${r.collection_info.config.vector_size}D`:"384D"})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 min-h-[100px] flex flex-col justify-between",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Distance Metric"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 h-8 flex items-center transition-opacity duration-200",children:L?e.jsx(P,{size:"sm"}):e.jsx("span",{className:F?"opacity-70":"opacity-100",children:((Le=(Ve=r==null?void 0:r.collection_info)==null?void 0:Ve.config)==null?void 0:Le.distance)||"Cosine"})})]})]}),(($e=r==null?void 0:r.collection_info)==null?void 0:$e.name)&&e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[e.jsx("strong",{children:"Collection:"})," ",r.collection_info.name," ","â€¢ ",e.jsx("strong",{children:"Host:"})," ",r.qdrant_host,":",r.qdrant_port]})]}),e.jsx(me,{className:"overflow-hidden w-full",children:e.jsx("div",{className:"overflow-x-auto w-full",style:{minWidth:0},children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",style:{width:"100%",tableLayout:"auto"},children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left w-10",children:e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary h-4 w-4 cursor-pointer",checked:C.length>0&&j.size===C.length,onChange:Ct})}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Type"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Size"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Chunks"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Metadata"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Created"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Actions"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[C.map(t=>{var s;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 sm:px-6 py-4",children:e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary h-4 w-4 cursor-pointer",checked:j.has(t.id),onChange:()=>Dt(t.id)})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 min-w-0 max-w-xs",children:e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.source_type==="url"?e.jsx(Xt,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}):e.jsx(Pt,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:t.title})]})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded bg-blue-100 text-blue-700",children:t.source_type})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 min-w-0 max-w-xs",children:e.jsx("div",{className:"text-sm text-gray-600 truncate",title:t.source_path||t.file_name||"",children:t.source_type==="url"?e.jsx("a",{href:t.source_path||"",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate block",children:t.source_path}):e.jsx("span",{className:"truncate",children:t.file_name||t.source_path||"-"})})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:oe(t.file_size)}),e.jsxs("td",{className:"w-100 px-4 sm:px-6 py-4 min-w-0 max-w-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[At(t.processing_status),e.jsx("span",{className:"text-sm text-gray-700",children:Rt(t.processing_status)})]}),t.processing_error&&e.jsxs("div",{className:"flex items-center gap-1 mt-1 group",children:[e.jsxs("div",{className:"text-xs text-red-600 truncate max-w-[100px] flex-1",title:t.processing_error,children:[t.processing_error.substring(0,40),"..."]}),e.jsx("button",{onClick:l=>{l.stopPropagation(),Mt(t.processing_error||"",t.id)},className:"flex-shrink-0 p-1 text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition opacity-0 group-hover:opacity-100",title:"Copy full error message",children:at===t.id?e.jsx(Lt,{className:"w-4 h-4 text-green-600"}):e.jsx(Et,{className:"w-4 h-4"})})]})]}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:t.processing_status==="completed"&&((s=t.content_metadata)!=null&&s.chunks_count)?e.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded bg-green-100 text-green-700",children:[t.content_metadata.chunks_count," ",t.content_metadata.chunks_count===1?"chunk":"chunks"]}):t.processing_status==="completed"?e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded bg-gray-100 text-gray-600",children:"0 chunks"}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:Fe(t)}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(t.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>ft(t),className:"p-1 text-gray-600 hover:text-gray-900 flex-shrink-0",title:"View Metadata",children:e.jsx(Ot,{className:"w-5 h-5"})}),t.processing_status==="failed"&&e.jsx("button",{onClick:()=>Re(t.id),className:"p-1 text-blue-600 hover:text-blue-700 flex-shrink-0",title:"Reprocess",children:e.jsx(Q,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>_t(t),className:"p-1 text-red-600 hover:text-red-700 flex-shrink-0",title:"Delete",children:e.jsx(pe,{className:"w-5 h-5"})})]})})]},t.id)}),C.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No documents found. Upload a file or add a URL to get started."})})]})]})})}),e.jsx(b,{open:et,onClose:()=>{$(!1),D({title:"",file:null}),S(!1),N.current&&(N.current.value="")},title:"Upload RAG Document",size:"lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(K,{label:"Title (Law Name)",required:!0,value:x.title,onChange:t=>D({...x,title:t.target.value}),placeholder:"e.g., Personal Income Tax Act, VAT Act 2023",helperText:"Enter the proper law name (e.g., 'Personal Income Tax Act', not the filename). The filename will be used as a fallback if not specified."}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["File ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-lg transition cursor-pointer ${st?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:jt,onDragLeave:Nt,onDrop:vt,onClick:t=>{var s;t.preventDefault(),t.stopPropagation(),(s=N.current)==null||s.click()},onMouseDown:t=>t.stopPropagation(),children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(he,{className:"mx-auto h-12 w-12 text-gray-400 pointer-events-none"}),e.jsxs("div",{className:"flex text-sm text-gray-600 justify-center",children:[e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-primary hover:text-primary-dark focus-within:outline-none",onClick:t=>{t.stopPropagation(),t.preventDefault()},children:[e.jsx("span",{children:"Upload a file"}),e.jsx("input",{id:"file-upload",ref:N,name:"file-upload",type:"file",className:"sr-only",onChange:yt,accept:"*/*",onClick:t=>t.stopPropagation()})]}),e.jsx("p",{className:"pl-1 pointer-events-none",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500 pointer-events-none",children:"All file types supported (PDF, DOCX, images, etc.)"}),x.file&&e.jsxs("p",{className:"text-sm text-gray-700 mt-2 pointer-events-none",children:["Selected:"," ",e.jsx("span",{className:"font-medium",children:x.file.name})," ","(",oe(x.file.size),")"]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx(c,{variant:"outline",onClick:()=>{$(!1),D({title:"",file:null}),S(!1),N.current&&(N.current.value="")},children:"Cancel"}),e.jsx(c,{variant:"primary",onClick:bt,disabled:!x.file||!x.title||q,children:q?"Uploading...":"Upload"})]})]})}),e.jsx(b,{open:tt,onClose:()=>{E(!1),T({title:"",url:""})},title:"Add URL to RAG",size:"lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(K,{label:"Title",required:!0,value:g.title,onChange:t=>T({...g,title:t.target.value}),placeholder:"Enter document title"}),e.jsx(K,{label:"URL",required:!0,type:"url",value:g.url,onChange:t=>T({...g,url:t.target.value}),placeholder:"https://example.com/page"}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx(c,{variant:"outline",onClick:()=>{E(!1),T({title:"",url:""})},children:"Cancel"}),e.jsx(c,{variant:"primary",onClick:wt,disabled:!g.url||!g.title||q,children:q?"Adding...":"Add URL"})]})]})}),e.jsxs(b,{open:lt,onClose:()=>{G(!1),z({})},title:"Bulk Reprocess Documents",size:"md",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(O,{severity:"warning",children:"This will reprocess selected documents to update their metadata (law names, etc.) with the new extraction logic. Old chunks will be deleted and documents will be re-indexed. This may take several minutes."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status (Optional)"}),e.jsxs("select",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition",value:y.status||"",onChange:t=>z({...y,status:t.target.value||void 0}),children:[e.jsx("option",{value:"",children:"All statuses"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"failed",children:"Failed"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Only reprocess documents with the selected status. Leave empty to reprocess all."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Source Type (Optional)"}),e.jsxs("select",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition",value:y.sourceType||"",onChange:t=>z({...y,sourceType:t.target.value||void 0}),children:[e.jsx("option",{value:"",children:"All types"}),e.jsx("option",{value:"file",children:"File uploads"}),e.jsx("option",{value:"url",children:"URLs"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Only reprocess documents of the selected type. Leave empty to reprocess all."})]})]}),V&&e.jsx(O,{severity:"error",children:V})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 mt-4",children:[e.jsx(c,{variant:"outline",onClick:()=>{G(!1),z({})},disabled:Z,children:"Cancel"}),e.jsx(c,{variant:"primary",onClick:St,disabled:Z,children:Z?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"w-4 h-4 animate-spin mr-2"}),"Reprocessing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Start Bulk Reprocess"]})})]})]}),e.jsx(b,{open:nt,onClose:()=>{H(!1),X(null),w.current&&(w.current.value="")},title:"Upload Metadata Catalog CSV",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Mode"}),e.jsxs("select",{value:Y,onChange:t=>rt(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"replace",children:"Replace All (Delete existing catalog)"}),e.jsx("option",{value:"merge",children:"Merge (Add new, update existing)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Y==="replace"?"All existing catalog entries will be deleted and replaced with new data":"New entries will be added, existing entries (matched by doc_id) will be updated"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["CSV File ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{ref:w,type:"file",accept:".csv",onChange:Ft,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Max file size: 50MB. For larger files, split and upload with "Merge" mode.'}),M&&e.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:["Selected: ",e.jsx("span",{className:"font-medium",children:M.name})," (",oe(M.size),")"]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx(c,{variant:"outline",onClick:()=>{H(!1),X(null),w.current&&(w.current.value="")},children:"Cancel"}),e.jsx(c,{variant:"primary",onClick:Tt,disabled:!M||ve,children:ve?"Uploading...":"Upload"})]})]})}),e.jsx(b,{open:ct,onClose:()=>A(!1),title:"Delete Document",size:"md",hideBackdrop:!0,className:"shadow-2xl border border-gray-200",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:[U?e.jsxs(e.Fragment,{children:["Are you sure you want to delete ",e.jsx("strong",{children:U.title}),"?"]}):e.jsxs(e.Fragment,{children:["Are you sure you want to delete ",e.jsxs("strong",{children:[j.size," documents"]}),"?"]})," ","This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx(c,{variant:"outline",onClick:()=>A(!1),disabled:le,children:"Cancel"}),e.jsx(c,{variant:"danger",onClick:kt,disabled:le,className:"flex items-center gap-2",children:le?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"w-4 h-4"}),"Delete"]})})]})]})}),e.jsx(b,{open:ee,onClose:()=>we(!1),title:"Metadata Catalog Viewer",size:"4xl",className:"shadow-2xl border border-gray-200",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex gap-2",children:e.jsx(K,{placeholder:"Search by Doc ID, Filename, or Title...",value:ie,onChange:t=>dt(t.target.value),className:"flex-1"})}),e.jsx("div",{className:"border border-gray-200 rounded-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Doc ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Filename"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:re?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-4 text-center",children:e.jsx(k,{className:"w-6 h-6 animate-spin mx-auto text-primary"})})}):ne.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No entries found."})}):ne.map((t,s)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_*J+s+1}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.doc_id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 truncate max-w-[200px]",title:t.file_name,children:t.file_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 truncate max-w-[200px]",title:t.source_title,children:t.source_title}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.status||"Active"})})]},t.id))})]})})}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",_+1]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>Ce(Math.max(0,_-1)),disabled:_===0||re,children:"Previous"}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>Ce(_+1),disabled:ne.length<J||re,children:"Next"})]})]})]})}),e.jsx(b,{open:te,onClose:()=>se(!1),title:"Pending Metadata Review",size:"lg",className:"shadow-2xl border border-gray-200",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(O,{severity:"info",children:'The following uploaded documents could not be automatically matched with the CSV metadata catalog. Please check if the filename matches an entry in the catalog (ignoring case and special characters). If you have updated the catalog or renamed the file, click "Reprocess" to try matching again.'}),e.jsx("div",{className:"border border-gray-200 rounded-md overflow-hidden max-h-[400px] overflow-y-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:mt?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-6 py-4 text-center",children:e.jsx(k,{className:"w-6 h-6 animate-spin mx-auto text-primary"})})}):De.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-6 py-4 text-center text-gray-500",children:"No pending documents found."})}):De.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.title}),e.jsx("div",{className:"text-xs text-gray-500",children:t.file_name})]}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs(c,{size:"sm",variant:"outline",onClick:()=>Re(t.id),className:"flex items-center gap-1 ml-auto",children:[e.jsx(Q,{className:"w-3 h-3"}),"Reprocess"]})})]},t.id))})]})}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(c,{onClick:()=>se(!1),children:"Close"})})]})}),e.jsx(b,{open:ht,onClose:()=>ce(!1),title:"Document Metadata",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[m&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Document"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400",children:"Title"}),e.jsx("div",{className:"text-sm font-medium",children:m.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400",children:"Filename"}),e.jsx("div",{className:"text-sm text-gray-600 truncate",title:m.file_name||"",children:m.file_name||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400",children:"Metadata Status"}),e.jsx("div",{className:"mt-1",children:Fe(m)})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4 text-blue-600"}),"Matched Catalog Entry"]}),m.metadata_catalog?e.jsx("div",{className:"border border-gray-200 rounded-md overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-4 p-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Doc ID"}),e.jsx("div",{className:"text-sm font-mono text-blue-600",children:m.metadata_catalog.doc_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Status"}),e.jsx("div",{className:"text-sm",children:m.metadata_catalog.status||"Active"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Official Title"}),e.jsx("div",{className:"text-sm font-medium",children:m.metadata_catalog.source_title})]}),m.metadata_catalog.issuing_body&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Issuing Body"}),e.jsx("div",{className:"text-sm",children:m.metadata_catalog.issuing_body})]}),m.metadata_catalog.publication_date&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Publication Date"}),e.jsx("div",{className:"text-sm",children:m.metadata_catalog.publication_date})]}),m.metadata_catalog.effective_date&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Effective Date"}),e.jsx("div",{className:"text-sm",children:m.metadata_catalog.effective_date})]}),m.metadata_catalog.jurisdiction_level&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Jurisdiction"}),e.jsx("div",{className:"text-sm",children:m.metadata_catalog.jurisdiction_level})]})]})}):e.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-200 rounded-lg",children:[e.jsx(Ke,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No catalog entry matched."}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Ensure the filename matches a valid entry in the metadata catalog."})]})]})]}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(c,{onClick:()=>ce(!1),children:"Close"})})]})})]})}export{us as default};
