import{r as x,u as E,j as e,L as n}from"./index-CtZe0orJ.js";import{B as d}from"./Button-DSgQr6FG.js";import{D as C,a as m}from"./DropdownItem-DL29CmMt.js";import{L as y,a as b,C as k,M}from"./menu-BZlBs3Vk.js";import{U as N}from"./user-plus-C-B5qNsN.js";import{X as L}from"./x-kfxjC3rr.js";import{c as U}from"./createLucideIcon-BzLNr2Zq.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],D=U("log-in",_),S="/images/h-black-logo-BZ6RAl0g.jpeg",W=[{label:"Home",href:"/"},{label:"About",href:"/about"},{label:"How It Works",href:"#how-it-works"},{label:"Features",href:"#features"},{label:"Pricing",href:"#pricing"},{label:"Contact",href:"#contact"}];function J(){const[h,I]=x.useState(!1),[f,l]=x.useState(!1),[t,i]=x.useState(null),T=E();x.useEffect(()=>{const s=localStorage.getItem("access_token"),a=localStorage.getItem("user");if(s&&a)try{const u=JSON.parse(a);l(!0),i(u)}catch{localStorage.removeItem("access_token"),localStorage.removeItem("user"),l(!1),i(null)}else l(!1),i(null);const r=()=>{const u=localStorage.getItem("access_token"),w=localStorage.getItem("user");if(u&&w)try{const A=JSON.parse(w);l(!0),i(A)}catch{l(!1),i(null)}else l(!1),i(null)},c=()=>{r()};return window.addEventListener("storage",r),window.addEventListener("auth-change",c),()=>{window.removeEventListener("storage",r),window.removeEventListener("auth-change",c)}},[]);const o=()=>{I(!h)},g=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("user"),l(!1),i(null),T("/"),window.dispatchEvent(new Event("storage"))},v=W,p=s=>{var a,r;return((a=s.full_name)==null?void 0:a.charAt(0).toUpperCase())||((r=s.email)==null?void 0:r.charAt(0).toUpperCase())||"U"},j=t&&(t.role==="admin"||t.role==="super_admin"||t.role==="moderator"||t.role==="support");return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm",children:e.jsx("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx(n,{to:"/",className:"flex items-center hover:opacity-80 transition",children:e.jsx("img",{src:S,alt:"Kamafile Logo",className:"h-12 md:h-14 w-auto object-contain"})}),e.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[v.map(s=>{const a=s.href.startsWith("/"),r=s.href.startsWith("#"),c=r?`/${s.href}`:a?s.href:void 0;return a||r?e.jsx(n,{to:c,className:"text-gray-900 font-medium text-sm hover:text-primary transition",children:s.label},s.label):e.jsx("a",{href:s.href,className:"text-gray-900 font-medium text-sm hover:text-primary transition",children:s.label},s.label)}),f&&t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(d,{onClick:g,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Logout"]}),e.jsxs(C,{trigger:e.jsx("div",{className:"w-9 h-9 rounded-full text-white flex items-center justify-center text-sm font-medium cursor-pointer hover:opacity-80 transition",style:{backgroundColor:"#1a2332"},children:p(t)}),children:[e.jsx(m,{disabled:!0,children:e.jsxs("div",{className:"py-2",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:t.full_name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.email})]})}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),j&&e.jsx(m,{to:"/admin",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{className:"w-4 h-4"}),"Admin Dashboard"]})}),e.jsx(m,{to:"/profile",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{className:"w-4 h-4"}),"Profile"]})})]})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{to:"/signin",className:"px-4 py-2 text-sm font-medium rounded-lg border-2 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all inline-flex items-center justify-center",style:{borderColor:"#1a2332",color:"#1a2332",backgroundColor:"transparent"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="#1a2332",s.currentTarget.style.color="#ffffff"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="transparent",s.currentTarget.style.color="#1a2332"},children:"Sign In"}),e.jsxs(n,{to:"/signup",className:"px-4 py-2 text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all inline-flex items-center justify-center gap-2",style:{backgroundColor:"#4caf50",color:"#ffffff"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="#388e3c"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="#4caf50"},children:[e.jsx(N,{className:"w-4 h-4"}),"Sign Up"]})]})]}),e.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[f&&t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{onClick:g,variant:"outline",size:"sm",className:"text-xs px-2 py-1",children:e.jsx(y,{className:"w-3 h-3"})}),e.jsxs(C,{trigger:e.jsx("div",{className:"w-8 h-8 rounded-full text-white flex items-center justify-center text-xs font-medium cursor-pointer hover:opacity-80 transition",style:{backgroundColor:"#1a2332"},children:p(t)}),children:[e.jsx(m,{disabled:!0,children:e.jsxs("div",{className:"py-2",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:t.full_name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.email})]})}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),j&&e.jsx(m,{to:"/admin",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{className:"w-4 h-4"}),"Admin Dashboard"]})}),e.jsx(m,{to:"/profile",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{className:"w-4 h-4"}),"Profile"]})})]})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{to:"/signin",className:"px-3 py-1.5 text-xs font-medium rounded-lg border-2 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all inline-flex items-center justify-center whitespace-nowrap",style:{borderColor:"#1a2332",color:"#1a2332",backgroundColor:"transparent"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="#1a2332",s.currentTarget.style.color="#ffffff"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="transparent",s.currentTarget.style.color="#1a2332"},children:"Sign In"}),e.jsxs(n,{to:"/signup",className:"px-3 py-1.5 text-xs font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all inline-flex items-center justify-center gap-1 whitespace-nowrap",style:{backgroundColor:"#4caf50",color:"#ffffff"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="#388e3c"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="#4caf50"},children:[e.jsx(N,{className:"w-3 h-3"}),"Sign Up"]})]}),e.jsx("button",{onClick:o,className:"p-2 text-gray-700 hover:text-primary transition","aria-label":"Toggle menu",children:h?e.jsx(L,{className:"w-6 h-6"}):e.jsx(M,{className:"w-6 h-6"})})]})]})})}),h&&e.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:o}),e.jsxs("div",{className:"fixed right-0 top-0 h-full w-72 bg-white shadow-xl",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[e.jsx("img",{src:S,alt:"Kamafile Logo",className:"h-12 w-auto object-contain"}),e.jsx("button",{onClick:o,className:"p-2 text-gray-700 hover:text-primary transition",children:e.jsx(L,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"overflow-y-auto h-full pb-4",children:e.jsxs("nav",{className:"py-4",children:[v.map(s=>{const a=s.href.startsWith("/"),c=s.href.startsWith("#")?`/${s.href}`:a?s.href:void 0;return e.jsx(n,{to:c,onClick:o,className:"block px-4 py-3 text-gray-900 hover:bg-primary-light hover:text-primary transition",children:s.label},s.label)}),f&&t?e.jsxs("div",{className:"mt-4 px-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full text-white flex items-center justify-center text-sm font-medium",style:{backgroundColor:"#1a2332"},children:p(t)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm text-gray-900",children:t.full_name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.email})]})]}),j&&e.jsxs(d,{component:n,to:"/admin",onClick:o,variant:"primary",fullWidth:!0,className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Admin Dashboard"]}),e.jsxs(d,{onClick:()=>{g(),o()},variant:"outline",fullWidth:!0,className:"flex items-center justify-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Logout"]})]}):e.jsxs("div",{className:"mt-4 px-4 space-y-2",children:[e.jsxs(d,{component:n,to:"/signin",variant:"outline",fullWidth:!0,onClick:o,className:"flex items-center justify-center gap-2",children:[e.jsx(D,{className:"w-4 h-4"}),"Sign In"]}),e.jsxs(d,{component:n,to:"/signup",variant:"secondary",fullWidth:!0,onClick:o,className:"flex items-center justify-center gap-2",children:[e.jsx(N,{className:"w-4 h-4"}),"Sign Up"]})]})]})})]})]})]})}export{J as H,S as h};
