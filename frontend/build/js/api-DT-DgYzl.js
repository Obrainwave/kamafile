import{a}from"./utils-vendor-D5lHaTRS.js";const o="http://localhost:8000",s=a.create({baseURL:o,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});s.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("user"),window.location.href="/signin"),Promise.reject(e)});const n={login:async e=>(await s.post("/api/auth/login",e)).data,signup:async e=>(await s.post("/api/auth/signup",e)).data,getCurrentUser:async()=>(await s.get("/api/auth/me")).data,logout:async()=>{localStorage.removeItem("access_token"),localStorage.removeItem("user")}};export{n as a,s as b};
