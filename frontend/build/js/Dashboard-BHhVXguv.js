import{j as s,r as c,S as N}from"./index-BctExgi5.js";import{a as y}from"./adminAPI-DOOjf8NK.js";import{a as d,C as n}from"./Container-DKsxE6Zs.js";import{A as j}from"./Alert-DTRzCEsD.js";import{U as g}from"./users-Cu3rEyhd.js";import{C as b}from"./circle-check-big-BT9F5zWr.js";import{U as v}from"./user-plus-B8_o38gI.js";import{T as w}from"./trending-up-stR01e4-.js";import"./api-Bu1cG_4Q.js";import"./createLucideIcon-DH5Z8aYF.js";const f={primary:"text-primary",secondary:"text-secondary",success:"text-green-600",error:"text-red-600",info:"text-blue-600",warning:"text-yellow-600"};function o({title:e,value:r,icon:m,color:l="primary"}){return s.jsxs(d,{hover:!0,className:"p-6 flex flex-col h-full",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h6",{className:"text-gray-600 font-medium",children:e}),s.jsx("div",{className:f[l],children:m})]}),s.jsx("div",{className:`text-4xl font-bold ${f[l]}`,children:typeof r=="number"?r.toLocaleString():r})]})}function z(){const[e,r]=c.useState(null),[m,l]=c.useState(!0),[x,h]=c.useState(null);c.useEffect(()=>{u()},[]);const u=async()=>{var a,t;try{l(!0),h(null);const i=await y.getDashboardStats();r(i)}catch(i){const p=((t=(a=i.response)==null?void 0:a.data)==null?void 0:t.detail)||i.message||"Failed to load dashboard stats";h(p)}finally{l(!1)}};return m?s.jsx(n,{maxWidth:"xl",children:s.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:s.jsx(N,{size:"lg"})})}):x?s.jsx(n,{maxWidth:"xl",children:s.jsxs(j,{severity:"error",className:"mt-4",children:[x,s.jsxs("div",{className:"mt-4 space-y-1",children:[s.jsx("p",{className:"text-sm",children:"Please check:"}),s.jsx("p",{className:"text-sm",children:"1. You are logged in as an admin user"}),s.jsx("p",{className:"text-sm",children:"2. The backend API is running"}),s.jsx("p",{className:"text-sm",children:"3. Check browser console for more details"})]})]})}):e?s.jsxs(n,{maxWidth:"lg",children:[s.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Overview of your system"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mb-6",children:[s.jsx(o,{title:"Total Users",value:e.total_users,icon:s.jsx(g,{className:"w-6 h-6"}),color:"primary"}),s.jsx(o,{title:"Active Users",value:e.active_users,icon:s.jsx(b,{className:"w-6 h-6"}),color:"success"}),s.jsx(o,{title:"New Today",value:e.new_users_today,icon:s.jsx(v,{className:"w-6 h-6"}),color:"info"}),s.jsx(o,{title:"New This Week",value:e.new_users_this_week,icon:s.jsx(w,{className:"w-6 h-6"}),color:"warning"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(d,{className:"p-6 flex flex-col h-full",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Users by Type"}),s.jsx("div",{className:"mt-4 flex-grow space-y-2",children:Object.entries(e.users_by_type).map(([a,t])=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm capitalize text-gray-600",children:a}),s.jsx("p",{className:"text-sm font-bold",children:t})]},a))})]}),s.jsxs(d,{className:"p-6 flex flex-col h-full",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Users by Role"}),s.jsx("div",{className:"mt-4 flex-grow space-y-2",children:Object.entries(e.users_by_role).map(([a,t])=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm capitalize text-gray-600",children:a}),s.jsx("p",{className:"text-sm font-bold",children:t})]},a))})]})]})]}):s.jsx(n,{maxWidth:"xl",children:s.jsx(j,{severity:"warning",className:"mt-4",children:"No statistics data available"})})}export{z as default};
