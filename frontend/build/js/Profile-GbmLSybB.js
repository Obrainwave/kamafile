import{r as i,u,j as e,S as f}from"./index-DxCgcyXh.js";import{H as c}from"./Header-hRc3ldg_.js";import{a as j}from"./api-sa1Artjr.js";import{C as y,a as g}from"./Container-D9tpSCKj.js";import{B as l}from"./Button-DP5zKp_w.js";import{c as n}from"./createLucideIcon-Dr0X7DXv.js";import{C as N}from"./menu-CjLXqDC4.js";import"./DropdownItem-DyV-dnai.js";import"./user-plus-wMLEFzrF.js";import"./x-CZXEUpxe.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],b=n("calendar",v);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],k=n("mail",_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],C=n("phone",w);function H(){const[s,m]=i.useState(null),[o,d]=i.useState(!0),a=u();if(i.useEffect(()=>{(async()=>{try{if(!localStorage.getItem("access_token")){a("/signin");return}const p=await j.getCurrentUser();m(p)}catch{a("/signin")}finally{d(!1)}})()},[a]),o)return e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:e.jsx(f,{size:"lg"})})]});if(!s)return null;const x=t=>{try{return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return t}},h=()=>{var t,r;return((t=s.full_name)==null?void 0:t.charAt(0).toUpperCase())||((r=s.email)==null?void 0:r.charAt(0).toUpperCase())||"U"};return e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsxs(y,{maxWidth:"md",className:"py-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Profile"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"View and manage your account information"}),e.jsxs(g,{className:"p-8",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx("div",{className:"w-30 h-30 rounded-full bg-primary text-white flex items-center justify-center text-5xl font-medium mb-4",children:h()}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:s.full_name}),e.jsx("p",{className:"text-gray-600",children:s.user_type})]}),e.jsx("div",{className:"border-t border-gray-200 my-6"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(k,{className:"w-6 h-6 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Email"}),e.jsx("p",{className:"font-medium",children:s.email})]})]}),s.phone_number&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(C,{className:"w-6 h-6 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Phone Number"}),e.jsx("p",{className:"font-medium",children:s.phone_number})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(b,{className:"w-6 h-6 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Member Since"}),e.jsx("p",{className:"font-medium",children:x(s.created_at)})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(N,{className:"w-6 h-6 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Account Status"}),e.jsxs("p",{className:"font-medium",children:[s.is_active?"Active":"Inactive",s.is_verified&&" â€¢ Verified"]})]})]})]}),e.jsxs("div",{className:"mt-8 flex gap-4 justify-end",children:[e.jsx(l,{variant:"outline",onClick:()=>a("/"),children:"Back to Home"}),e.jsx(l,{variant:"primary",disabled:!0,children:"Edit Profile"})]})]})]})]})}export{H as default};
