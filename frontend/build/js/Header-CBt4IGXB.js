import{g as Y,a as ee,i as w,k as re,r as f,b as oe,j as e,s as ne,c as te,d as G,e as ae,m as se,h as ie,u as le,B as p,L as l}from"./index-D8mN3p1X.js";import{b as ce,c as B,D as P,A as F,d as de,L as T,e as O,a as V}from"./Logout-BLxARsol.js";import{T as pe,M as k}from"./Toolbar-sv-8sTU6.js";import{a as me,T as y,i as H,c as Q,I as W}from"./Typography-CfT4MDDf.js";import{B as x}from"./Button-CJo_el1a.js";import{A as _,D as R}from"./Slide-DXFgg0J9.js";import{M as N,L as he}from"./Menu-IZ2QR1Rp.js";import{S as $}from"./Stack-BUiep6nA.js";import{P as J}from"./PersonAdd-DRtH8wvO.js";import{C as ue}from"./Close-DH2AyJVu.js";function xe(r){return ee("MuiLink",r)}const ge=Y("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),ye=({theme:r,ownerState:a})=>{const t=a.color;if("colorSpace"in r&&r.colorSpace){const c=w(r,`palette.${t}.main`)||w(r,`palette.${t}`)||a.color;return r.alpha(c,.4)}const i=w(r,`palette.${t}.main`,!1)||w(r,`palette.${t}`,!1)||a.color,o=w(r,`palette.${t}.mainChannel`)||w(r,`palette.${t}Channel`);return"vars"in r&&o?`rgba(${o} / 0.4)`:re(i,.4)},K={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},fe=r=>{const{classes:a,component:t,focusVisible:i,underline:o}=r,c={root:["root",`underline${G(o)}`,t==="button"&&"button",i&&"focusVisible"]};return ae(c,xe,a)},be=ne(y,{name:"MuiLink",slot:"Root",overridesResolver:(r,a)=>{const{ownerState:t}=r;return[a.root,a[`underline${G(t.underline)}`],t.component==="button"&&a.button]}})(se(({theme:r})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:a,ownerState:t})=>a==="always"&&t.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:a,ownerState:t})=>a==="always"&&t.color==="inherit",style:r.colorSpace?{textDecorationColor:r.alpha("currentColor",.4)}:null},...Object.entries(r.palette).filter(ie()).map(([a])=>({props:{underline:"always",color:a},style:{"--Link-underlineColor":r.alpha((r.vars||r).palette[a].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":r.alpha((r.vars||r).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":r.alpha((r.vars||r).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(r.vars||r).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${ge.focusVisible}`]:{outline:"auto"}}}]}))),Z=f.forwardRef(function(a,t){const i=oe({props:a,name:"MuiLink"}),o=me(),{className:c,color:m="primary",component:S="a",onBlur:A,onFocus:d,TypographyClasses:z,underline:u="always",variant:b="inherit",sx:j,...L}=i,[D,I]=f.useState(!1),M=s=>{H(s.target)||I(!1),A&&A(s)},U=s=>{H(s.target)&&I(!0),d&&d(s)},v={...i,color:m,component:S,focusVisible:D,underline:u,variant:b},n=fe(v);return e.jsx(be,{color:m,className:te(n.root,c),classes:z,component:S,onBlur:M,onFocus:U,ref:t,ownerState:v,variant:b,...L,sx:[...K[m]===void 0?[{color:m}]:[],...Array.isArray(j)?j:[j]],style:{...L.style,...u==="always"&&m!=="inherit"&&!K[m]&&{"--Link-underlineColor":ye({theme:o,ownerState:v})}}})}),je=Q(e.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"})),ve=Q(e.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),q="/images/h-black-logo-BZ6RAl0g.jpeg",Ce=[{label:"Home",href:"/"},{label:"About",href:"/about"},{label:"How It Works",href:"#how-it-works"},{label:"Features",href:"#features"},{label:"Pricing",href:"#pricing"},{label:"Contact",href:"#contact"}];function We(){var L,D,I,M,U,v;const[r,a]=f.useState(!1),[t,i]=f.useState(!1),[o,c]=f.useState(null),[m,S]=f.useState(null),A=le();f.useEffect(()=>{const n=localStorage.getItem("access_token"),s=localStorage.getItem("user");if(n&&s)try{const g=JSON.parse(s);i(!0),c(g)}catch{localStorage.removeItem("access_token"),localStorage.removeItem("user"),i(!1),c(null)}else i(!1),c(null);const h=()=>{const g=localStorage.getItem("access_token"),E=localStorage.getItem("user");if(g&&E)try{const X=JSON.parse(E);i(!0),c(X)}catch{i(!1),c(null)}else i(!1),c(null)},C=()=>{h()};return window.addEventListener("storage",h),window.addEventListener("auth-change",C),()=>{window.removeEventListener("storage",h),window.removeEventListener("auth-change",C)}},[]);const d=()=>{a(!r)},z=n=>{S(n.currentTarget)},u=()=>{S(null)},b=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("user"),i(!1),c(null),u(),A("/"),window.dispatchEvent(new Event("storage"))},j=Ce;return e.jsxs(e.Fragment,{children:[e.jsx(ce,{position:"sticky",elevation:0,sx:{bgcolor:"background.paper",color:"text.primary"},children:e.jsxs(pe,{sx:{justifyContent:"space-between",py:1},children:[e.jsx(p,{component:l,to:"/",sx:{display:"flex",alignItems:"center",textDecoration:"none","&:hover":{opacity:.8}},children:e.jsx(p,{component:"img",src:q,alt:"Kamafile Logo",sx:{height:{xs:48,md:56},width:"auto",objectFit:"contain"}})}),e.jsxs(p,{sx:{display:{xs:"none",md:"flex"},alignItems:"center",gap:3},children:[j.map(n=>{const s=n.href.startsWith("/"),h=n.href.startsWith("#"),C=h?`/${n.href}`:s?void 0:n.href,g=h?`/${n.href}`:s?n.href:void 0;return s||h?e.jsx(Z,{component:l,to:g,color:"text.primary",underline:"hover",sx:{fontWeight:500,fontSize:"0.95rem","&:hover":{color:"primary.main"},transition:"color 0.2s",textDecoration:"none"},children:n.label},n.label):e.jsx(Z,{href:C,color:"text.primary",underline:"hover",sx:{fontWeight:500,fontSize:"0.95rem","&:hover":{color:"primary.main"},transition:"color 0.2s",textDecoration:"none"},children:n.label},n.label)}),t&&o?e.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(x,{onClick:b,variant:"outlined",size:"small",startIcon:e.jsx(B,{}),sx:{borderColor:"primary.main",color:"primary.main",px:2,py:.75,"&:hover":{borderColor:"primary.dark",bgcolor:"primary.light",color:"white"}},children:"Logout"}),e.jsx(W,{onClick:z,sx:{p:0,"&:hover":{opacity:.8}},children:e.jsx(_,{sx:{width:36,height:36,bgcolor:"primary.main",fontSize:"0.875rem",cursor:"pointer"},children:((L=o.full_name)==null?void 0:L.charAt(0).toUpperCase())||((D=o.email)==null?void 0:D.charAt(0).toUpperCase())})}),e.jsxs(N,{anchorEl:m,open:!!m,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e.jsx(k,{disabled:!0,children:e.jsxs(p,{children:[e.jsx(y,{variant:"body2",fontWeight:"bold",children:o.full_name}),e.jsx(y,{variant:"caption",color:"text.secondary",children:o.email})]})}),e.jsx(R,{}),(o.role==="admin"||o.role==="super_admin"||o.role==="moderator"||o.role==="support")&&e.jsxs(k,{component:l,to:"/admin",onClick:u,children:[e.jsx(P,{sx:{mr:1.5}}),"Admin Dashboard"]}),e.jsxs(k,{component:l,to:"/profile",onClick:u,children:[e.jsx(F,{sx:{mr:1.5}}),"Profile"]})]})]}):e.jsxs($,{direction:"row",spacing:1,children:[e.jsx(x,{component:l,to:"/signin",variant:"outlined",size:"small",sx:{borderColor:"primary.main",color:"primary.main",px:2,py:.75,"&:hover":{borderColor:"primary.dark",bgcolor:"primary.light",color:"white"}},children:"Sign In"}),e.jsx(x,{component:l,to:"/signup",variant:"contained",size:"small",startIcon:e.jsx(J,{}),sx:{bgcolor:"secondary.main",px:2,py:.75,"&:hover":{bgcolor:"secondary.dark"}},children:"Sign Up"})]})]}),e.jsxs(p,{sx:{display:{xs:"flex",md:"none"},alignItems:"center",gap:1},children:[t&&o?e.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(x,{onClick:b,variant:"outlined",size:"small",startIcon:e.jsx(B,{}),sx:{borderColor:"primary.main",color:"primary.main",px:1.5,py:.5,fontSize:"0.875rem","&:hover":{borderColor:"primary.dark"}},children:"Logout"}),e.jsx(W,{onClick:z,sx:{p:0,"&:hover":{opacity:.8}},children:e.jsx(_,{sx:{width:32,height:32,bgcolor:"primary.main",fontSize:"0.875rem",cursor:"pointer"},children:((I=o.full_name)==null?void 0:I.charAt(0).toUpperCase())||((M=o.email)==null?void 0:M.charAt(0).toUpperCase())})}),e.jsxs(N,{anchorEl:m,open:!!m,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e.jsx(k,{disabled:!0,children:e.jsxs(p,{children:[e.jsx(y,{variant:"body2",fontWeight:"bold",children:o.full_name}),e.jsx(y,{variant:"caption",color:"text.secondary",children:o.email})]})}),e.jsx(R,{}),(o.role==="admin"||o.role==="super_admin"||o.role==="moderator"||o.role==="support")&&e.jsxs(k,{component:l,to:"/admin",onClick:u,children:[e.jsx(P,{sx:{mr:1.5}}),"Admin Dashboard"]}),e.jsxs(k,{component:l,to:"/profile",onClick:u,children:[e.jsx(F,{sx:{mr:1.5}}),"Profile"]})]})]}):e.jsxs($,{direction:"row",spacing:1,sx:{display:{xs:"none",sm:"flex"}},children:[e.jsx(x,{component:l,to:"/signin",variant:"outlined",size:"small",sx:{borderColor:"primary.main",color:"primary.main",px:1.5,py:.5,fontSize:"0.875rem","&:hover":{borderColor:"primary.dark"}},children:"Sign In"}),e.jsx(x,{component:l,to:"/signup",variant:"contained",size:"small",sx:{bgcolor:"secondary.main",px:1.5,py:.5,fontSize:"0.875rem","&:hover":{bgcolor:"secondary.dark"}},children:"Sign Up"})]}),e.jsx(W,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:d,sx:{ml:1},children:e.jsx(ve,{})})]})]})}),e.jsxs(de,{variant:"temporary",open:r,onClose:d,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280,pt:2}},children:[e.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",px:2,mb:2},children:[e.jsx(p,{component:"img",src:q,alt:"Kamafile Logo",sx:{height:48,width:"auto",objectFit:"contain"}}),e.jsx(W,{onClick:d,children:e.jsx(ue,{})})]}),e.jsxs(he,{children:[j.map(n=>{const s=n.href.startsWith("/"),h=n.href.startsWith("#"),C=h?`/${n.href}`:s?void 0:n.href,g=h?`/${n.href}`:s?n.href:void 0;return e.jsx(T,{disablePadding:!0,children:s||h?e.jsx(O,{component:l,to:g,onClick:d,sx:{"&:hover":{bgcolor:"primary.light",color:"primary.main"}},children:e.jsx(V,{primary:n.label})}):e.jsx(O,{href:C||"#",onClick:d,sx:{"&:hover":{bgcolor:"primary.light",color:"primary.main"}},children:e.jsx(V,{primary:n.label})})},n.label)}),t&&o?e.jsx(T,{disablePadding:!0,sx:{mt:2,px:2},children:e.jsxs($,{spacing:1,sx:{width:"100%"},children:[e.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[e.jsx(_,{sx:{width:40,height:40,bgcolor:"primary.main"},children:((U=o.full_name)==null?void 0:U.charAt(0).toUpperCase())||((v=o.email)==null?void 0:v.charAt(0).toUpperCase())}),e.jsxs(p,{sx:{flex:1},children:[e.jsx(y,{variant:"body2",fontWeight:"bold",children:o.full_name}),e.jsx(y,{variant:"caption",color:"text.secondary",children:o.email})]})]}),(o.role==="admin"||o.role==="super_admin"||o.role==="moderator"||o.role==="support")&&e.jsx(x,{component:l,to:"/admin",onClick:d,variant:"contained",fullWidth:!0,startIcon:e.jsx(P,{}),sx:{bgcolor:"primary.main",mb:1,"&:hover":{bgcolor:"primary.dark"}},children:"Admin Dashboard"}),e.jsx(x,{onClick:()=>{b(),d()},variant:"outlined",fullWidth:!0,startIcon:e.jsx(B,{}),sx:{borderColor:"primary.main",color:"primary.main","&:hover":{borderColor:"primary.dark",bgcolor:"primary.light"}},children:"Logout"})]})}):e.jsx(T,{disablePadding:!0,sx:{mt:2,px:2},children:e.jsxs($,{spacing:1,sx:{width:"100%"},children:[e.jsx(x,{component:l,to:"/signin",variant:"outlined",fullWidth:!0,startIcon:e.jsx(je,{}),onClick:d,sx:{borderColor:"primary.main",color:"primary.main","&:hover":{borderColor:"primary.dark",bgcolor:"primary.light"}},children:"Sign In"}),e.jsx(x,{component:l,to:"/signup",variant:"contained",fullWidth:!0,startIcon:e.jsx(J,{}),onClick:d,sx:{bgcolor:"secondary.main",color:"white","&:hover":{bgcolor:"secondary.dark"}},children:"Sign Up"})]})})]})]})]})}export{We as H,Z as L,q as h};
