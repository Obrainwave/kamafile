import{j as e,r as o,u as g,B as n}from"./index-D8mN3p1X.js";import{H as m}from"./Header-CBt4IGXB.js";import{a as v}from"./api-Bu1cG_4Q.js";import{c,T as r,P as b}from"./Typography-CfT4MDDf.js";import{C}from"./Container-92ghf_aJ.js";import{A as I,D as A}from"./Slide-DXFgg0J9.js";import{G as i}from"./Grid-BZUCIGQj.js";import{A as H}from"./Logout-BLxARsol.js";import{B as x}from"./Button-CJo_el1a.js";import"./Toolbar-sv-8sTU6.js";import"./Menu-IZ2QR1Rp.js";import"./dividerClasses-B2gYjZRc.js";import"./Stack-BUiep6nA.js";import"./PersonAdd-DRtH8wvO.js";import"./Close-DH2AyJVu.js";const V=c(e.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"})),_=c(e.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"})),z=c(e.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}));function R(){var l,d;const[t,h]=o.useState(null),[p,j]=o.useState(!0),s=g();if(o.useEffect(()=>{(async()=>{try{if(!localStorage.getItem("access_token")){s("/signin");return}const y=await v.getCurrentUser();h(y)}catch{s("/signin")}finally{j(!1)}})()},[s]),p)return e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:e.jsx(r,{children:"Loading..."})})]});if(!t)return null;const u=a=>{try{return new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return a}};return e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsxs(C,{maxWidth:"md",sx:{py:4},children:[e.jsx(r,{variant:"h4",component:"h1",gutterBottom:!0,fontWeight:"bold",children:"Profile"}),e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:4},children:"View and manage your account information"}),e.jsxs(b,{elevation:2,sx:{p:4},children:[e.jsxs(n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:4},children:[e.jsx(I,{sx:{width:120,height:120,bgcolor:"primary.main",fontSize:"3rem",mb:2},children:((l=t.full_name)==null?void 0:l.charAt(0).toUpperCase())||((d=t.email)==null?void 0:d.charAt(0).toUpperCase())}),e.jsx(r,{variant:"h5",component:"h2",fontWeight:"bold",children:t.full_name}),e.jsx(r,{variant:"body2",color:"text.secondary",children:t.user_type})]}),e.jsx(A,{sx:{my:3}}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{size:{xs:12,sm:6},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(_,{color:"primary"}),e.jsxs(n,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"Email"}),e.jsx(r,{variant:"body1",fontWeight:"medium",children:t.email})]})]})}),t.phone_number&&e.jsx(i,{size:{xs:12,sm:6},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(z,{color:"primary"}),e.jsxs(n,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"Phone Number"}),e.jsx(r,{variant:"body1",fontWeight:"medium",children:t.phone_number})]})]})}),e.jsx(i,{size:{xs:12,sm:6},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(V,{color:"primary"}),e.jsxs(n,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"Member Since"}),e.jsx(r,{variant:"body1",fontWeight:"medium",children:u(t.created_at)})]})]})}),e.jsx(i,{size:{xs:12,sm:6},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(H,{color:"primary"}),e.jsxs(n,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"Account Status"}),e.jsxs(r,{variant:"body1",fontWeight:"medium",children:[t.is_active?"Active":"Inactive",t.is_verified&&" â€¢ Verified"]})]})]})})]}),e.jsxs(n,{sx:{mt:4,display:"flex",gap:2,justifyContent:"flex-end"},children:[e.jsx(x,{variant:"outlined",onClick:()=>s("/"),children:"Back to Home"}),e.jsx(x,{variant:"contained",disabled:!0,children:"Edit Profile"})]})]})]})]})}export{R as default};
